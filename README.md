<pre align="center">
â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â•šâ•â•â•â•â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
â•šâ•â•  â•šâ•â•   â•šâ•â•   â•šâ•â•â•â•â•â• â•šâ•â•     â•šâ•â•â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•
</pre>

<p align="center">
  <img src="https://img.shields.io/badge/STATUS-EN%20DESAROLLO-green">
  <img alt="GitHub License" src="https://img.shields.io/github/license/lukatinarelli/HTBmachines?style=flat&color=red">
  <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/lukatinarelli/HTBmachines?style=flat&color=yellow">
  <img alt="Shell Script" src="https://img.shields.io/badge/Shell_Script-121011?style=flat&logo=gnu-bash&logoColor=white">
  <img alt="JSON" src="https://img.shields.io/badge/json-5E5C5C?style=flat&logo=json&logoColor=white">
  <img alt="HTB" src="https://img.shields.io/badge/HackTheBox-111927?style=flat&logo=Hack%20The%20Box&logoColor=9FEF00">
</p>

## ğŸ“š Ãndice
- [IntroducciÃ³n](#-introducciÃ³n)
- [Aviso Importante âš ï¸](#%EF%B8%8F-aviso-importante-cambio-de-la-base-de-datos-api)
- [CaracterÃ­sticas](#-caracterÃ­sticas)
- [InstalaciÃ³n](#-instalaciÃ³n)
- [Uso](#-uso)
- [CrÃ©ditos](#-crÃ©ditos)
- [Licencia](#%EF%B8%8F-licencia)

---

## ğŸ“œ IntroducciÃ³n
HTBMachines es un **potente *script* en Bash** diseÃ±ado para **consultar informaciÃ³n detallada** sobre mÃ¡quinas de Hack The Box, VulnHub y PortSwigger. Este proyecto se basa en la base de datos y tutoriales proporcionados por el trabajo de **[@S4vitar](https://github.com/S4vitar)**.

---

## âš ï¸ Aviso Importante: Cambio de la Base de Datos (API)

Este proyecto se concibiÃ³ utilizando la API de **infosecmachines.io** (de [JavierMolines](https://github.com/JavierMolines/)), la cual permitÃ­a descargar la base de datos de mÃ¡quinas sin autenticaciÃ³n.

> [!CAUTION]
> **CAMBIO RECIENTE.** El dominio `infosecmachines.io` ahora redirige a la nueva plataforma **hackingvault.com**. La API de la nueva web **NO permite la descarga de datos sin sesiÃ³n iniciada.**

**Esto implica que:**
* El archivo `infosecmachines.json` **viene incluido en el repositorio** con la base de datos mÃ¡s reciente en el momento de la clonaciÃ³n. **No necesitas seguir estos pasos para usar el script.**
* La **autenticaciÃ³n es obligatoria si deseas actualizar la Base de Datos (`-u`, `--update`)** para obtener nuevas mÃ¡quinas, ya que la API de Hacking Vault requiere tu *cookie* de sesiÃ³n.

### ğŸ”‘ Instrucciones para Obtener el Token de SesiÃ³n

Para que el script funcione, debes proporcionar tu **cadena de *cookies*** de sesiÃ³n. El proceso es el siguiente:

#### Copiar el comando cURL completo
Esta es la forma mÃ¡s robusta, ya que copia todas las cabeceras necesarias:

1.  Inicia sesiÃ³n en **[hackingvault.com](https://hackingvault.com/)**.
2.  Abre F12 (Herramientas de Desarrollador) y ve a la pestaÃ±a **`Network`**.
3.  Filtra por **Fetch/XHR**.
4.  Busca la peticiÃ³n a `tutorials?page=X&limit=12` y haz clic derecho.
5.  Selecciona **`Copy`** > **`Copy as cURL (bash)`**.
6.  Al ejecutar el comando de actualizaciÃ³n, el script te pedirÃ¡ que pegues la cadena cURL en la consola.

---

## ğŸ”¨ CaracterÃ­sticas
* BÃºsqueda de mÃ¡quinas por nombre (`-m`, `--machine`).
* ActualizaciÃ³n del archivo `infosecmachines.json` (`-u`, `--update`).
* InformaciÃ³n del *script* y ayuda (`-h`, `--help`).
* VersiÃ³n del *script* (`-v`, `--version`).
* Autocompletado opcional.

---

## ğŸ’¾ InstalaciÃ³n

### Dependencias:
* `curl`
* `jq`
* `md5sum`
* `tput`
* `figlet`

### Instrucciones:
```bash
# Clonar el repositorio
git clone https://github.com/lukatinarelli/HTBmachines.git
cd HTBmachines

# Dar permisos de ejecuciÃ³n
chmod +x htbmachines.sh
```

> [!TIP]
> Puedes aÃ±adir la ruta del repo en tu **PATH** para ejecutar el script con `htbmachines.sh` desde cualquier directorio.

### Autocompletado (opcional)
Hemos separado la lÃ³gica en dos archivos para mÃ¡xima compatibilidad y evitar bugs raros:

| Shell | Archivo a Usar |
| :---: | :--- |
| **Zsh** | `.htb-autocomplete.zsh` |
| **Bash** | `.htb-autocomplete.bash` |

Para habilitarlo, usa el siguiente comando con el archivo que corresponda a tu shell:
```bash
source .htb-autocomplete.<tu_shell>
```
#### Ejemplo: 
```bash
source .htb-autocomplete.zsh
```
> [!NOTE]
> Si quieres que el autocompletado sea permanente, aÃ±ade la lÃ­nea source correspondiente a tu archivo de configuraciÃ³n (`~/.zshrc` o `~/.bashrc`).

---

## ğŸš€ Uso

| Argumento Corto | Argumento Largo | DescripciÃ³n |
| :-------------: | :-------------: | :---------- |
| `-m` | `--machine` | Busca informaciÃ³n detallada sobre una mÃ¡quina de HTB, VulnHub o PortSwigger. |
| `-i` | `--ip` | Buscar mÃ¡quinapor direcciÃ³n IP. |
| `-d` | `--difficulty` | Filtar mÃ¡quinas por dificultad. |
| `-u` | `--update` | Actualiza el archivo de datos principal (`infosecmachines.json`). |
| `-h` | `--help` | Muestra el menÃº de ayuda e informaciÃ³n del script. |
| `-v` | `--version` | Muestra la versiÃ³n actual del script. |

---

## ğŸ”§ Cosas por mejorar (Tareas)

Este es el *checklist* de funcionalidades y mejoras planificadas para las prÃ³ximas versiones:

- [X] **Filtros:** AÃ±adir mÃ¡s filtros como el de -os (sistema operativo), -d (dificultad)...
- [ ] **Autocompletado:** Solucionar el fallo al usar comillas en los nombres de mÃ¡quina.
- [ ] **ErgonomÃ­a:** Implementar sugerencias de nombres ("Â¿Quieres decir: ...") si la mÃ¡quina no es encontrada.
- [ ] **Metadatos:** AÃ±adir un nuevo campo `resuelta` a la base de datos JSON.
- [X] **DocumentaciÃ³n:** Mostrar la ayuda y el uso correcto para cada *flag* individual.
- [X] **UX (User Experience):** AÃ±adir colores en la salida del comando de bÃºsqueda (`-m`).
- [ ] **Mantenimiento:** Implementar un sistema bÃ¡sico de *logs*.
- [X] **AutomatizaciÃ³n:** Si al filtrar el resultado solo hay una mÃ¡quina, mostrar la informaciÃ³n de esa mÃ¡quina automÃ¡ticamente.
- [ ] **Interactivo:** Desarrollar un modo interactivo con lectura de teclado para navegaciÃ³n.

---

## ğŸŒŸ CrÃ©ditos

Este script se creÃ³ como parte del **curso de Hack4U** impartido por **[@S4vitar](https://github.com/S4vitar)**. La base de datos y los tutoriales utilizados son propiedad intelectual de **S4vitar**.

> [!CAUTION]
> **Nota Importante:** Este proyecto estÃ¡ destinado exclusivamente para **fines educativos** en el contexto del **Hacking Ã‰tico**.

---

## âš–ï¸ Licencia
Este proyecto estÃ¡ bajo la [Licencia MIT](LICENSE).
